<div class="flex flex-row">
  <app-sidebar></app-sidebar>
  <div class="body-position">
    <div class="body-holder">
      <app-dashboard-head></app-dashboard-head>

      <div class="main">
        <div class="card flex justify-content-center">
          <p-breadcrumb class="max-w-full" [model]="items"></p-breadcrumb>
        </div>
        <div class="body-card">
          <p-toast
            [showTransitionOptions]="'0ms'"
            [hideTransitionOptions]="'5000ms'"
          ></p-toast>
          <div class="table-head">
            <div
              class="flex mb-2 align-items-center gap-1"
              style="justify-content: flex-end; align-items: flex-end"
            ></div>
          </div>
          <div class="card">
            <p-table
              [value]="projectVehicles"
              [tableStyle]="{ 'min-width': '50rem' }"
            >
              <ng-template pTemplate="header">
                <tr>
                  <th class="text-center">ID</th>
                  <th class="text-center">Plate Number</th>
                  <th class="text-center">Lease Cost</th>
                  <th class="text-center">Type</th>
                  <th
                    *ngIf="showOriginDestination === true"
                    class="text-center"
                  >
                    Origin
                  </th>
                  <th
                    *ngIf="showOriginDestination === true"
                    style="text-align: center"
                  >
                    Destinition
                  </th>
                  <th
                    *ngIf="showOriginDestination === true"
                    style="text-align: center"
                  >
                    Rental Date
                  </th>
                  <th *ngIf="showLease === true" style="text-align: center">
                    Start Lease
                  </th>
                  <th *ngIf="showLease === true" style="text-align: center">
                    Expiry Lease
                  </th>
                  <th *ngIf="showLease === true" style="text-align: center">
                    Duration
                  </th>
                  <th class="text-center">Vendor</th>
                </tr>
              </ng-template>
              <ng-template pTemplate="body" let-vehicles>
                <tr
                  *ngFor="
                    let projectVehicleValue of vehicles.projectVehicleValuesList;
                    let i = index
                  "
                >
                  <td style="text-align: center">
                    {{ projectVehicleValue.id }}
                  </td>
                  <td style="text-align: center">
                    {{ projectVehicleValue.plateNumber }}
                  </td>
                  <td style="text-align: center">
                    {{ projectVehicleValue.leaseCost }}
                  </td>
                  <td style="text-align: center">
                    {{ projectVehicleValue.type }}
                  </td>
                  <td style="text-align: center" *ngIf="showOriginDestination">
                    {{
                      projectVehicleValue.type !== "Leased"
                        ? projectVehicleValue?.origin
                        : ""
                    }}
                  </td>
                  <td style="text-align: center" *ngIf="showOriginDestination">
                    {{
                      projectVehicleValue.type !== "Leased"
                        ? projectVehicleValue.destination
                        : ""
                    }}
                  </td>
                  <td style="text-align: center" *ngIf="showOriginDestination">
                    {{
                      projectVehicleValue.type !== "Leased"
                        ? (projectVehicleValue.rentalDate | date : "mediumDate")
                        : ""
                    }}
                  </td>
                  <td style="text-align: center" *ngIf="showLease">
                    {{
                      projectVehicleValue.type === "Leased"
                        ? (projectVehicleValue?.startLease
                          | date : "mediumDate")
                        : ""
                    }}
                  </td>
                  <td style="text-align: center" *ngIf="showLease">
                    {{
                      projectVehicleValue.type === "Leased"
                        ? (projectVehicleValue?.expiryLease
                          | date : "mediumDate")
                        : ""
                    }}
                  </td>
                  <td style="text-align: center" *ngIf="showLease">
                    {{
                      projectVehicleValue.type === "Leased" ? duration[i] : ""
                    }}
                  </td>
                  <td style="text-align: center">
                    {{ projectVehicleValue.vendor.vendorName }}
                  </td>
                  <!-- Assuming 'name' is a property of the 'vendor' object -->
                </tr>
              </ng-template>
            </p-table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
