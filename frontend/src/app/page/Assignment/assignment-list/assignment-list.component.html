<div class="flex flex-row">
    <app-sidebar></app-sidebar>
    <div class="body-position">
      <div class="body-holder">
        <app-dashboard-head></app-dashboard-head>
  
        <div class="main">
          <p-toast></p-toast>
          <div class="card flex justify-content-center">
              <p-breadcrumb class="max-w-full" [model]="items"></p-breadcrumb>
          </div>
          <div class="body-card">
              <div class="table-head">
                <div class="flex mb-2 align-items-center gap-1" style="justify-content: flex-end; align-items: flex-end;">            
                  <p-button class="bg-b-color" routerLink="/add-assignment">
                    <i class="bi bi-plus-lg" style="font-size: 20px;font-weight: bold;"></i>&nbsp;Add Vehicle Assignment
                  </p-button>
              </div>
                  <p-toolbar>
                      <div class="p-toolbar-group-start">
                        <h2 class="h-color">Vehicle Assignments</h2>
                      </div>
                      <div class="card flex flex-wrap justify-content-center gap-3">
                        <span class="p-input-icon-left">
                          <i class="my-relative bi bi-search"></i>
                          <input type="text" pInputText [(ngModel)]="value" (input)="getAllVehicleAssignment()"
                            placeholder="Search Plate Number" />
                        </span>
                      </div>
                      
                  </p-toolbar>
              </div>
            
  
            <div class="card">
              <p-table [value]="vehicleAssignment" [tableStyle]="{ 'min-width': '50rem' }">
                <ng-template pTemplate="header">
                  <tr>
                    
                    <th class="text-center">Vehicle Plate Number</th>
                    <th class="text-center">Assigned (Emp NO)</th>
                    <th class="text-center">Assigned (Emp Name)</th>
                    <th class="text-center">Design</th>
                    <th class="text-center">Make</th>
                    <th class="text-center">Model</th>
                    <th class="text-center">Year</th>
                    <th class="text-center">Lease Expiry</th>
                    <th class="text-center">Lease Cost</th>

                    
                    <th class="text-center"> Actions</th>
                  </tr>
                </ng-template>
                <ng-template pTemplate="body" let-vehicleAssignment>
                  <tr>
                    <td class="text-center">{{ vehicleAssignment.vehicle.plateNumber }}</td>
                    <td class="text-center">{{ vehicleAssignment.assignToEmpId.employeeNumber }}</td>
                    <td class="text-center">{{ vehicleAssignment.assignToEmpName }}</td>
                    <td class="text-center">{{ vehicleAssignment.vehicle.design }}</td>
                    <td class="text-center">{{ vehicleAssignment.vehicle.make }}</td>
                    <td class="text-center">{{ vehicleAssignment.vehicle.model }}</td>
                    <td class="text-center">{{ vehicleAssignment.vehicle.year }}</td>
                    <td class="text-center">{{ vehicleAssignment.vehicle.leaseExpiryDate }}</td>
                    <td class="text-center">{{ vehicleAssignment.vehicle.leaseCost }}</td>
                    
                    <td class="text-center flex"> 
                       
                       <p-button (click)="deleteVehicleAssignment(vehicleAssignment.id)" icon="bi bi-trash" class='ml' styleClass="p-button-rounded p-button-danger p-button-text p-button-raised">
                      
                       </p-button>
                       <p-button icon="bi bi-paperclip" class='ml mr' styleClass="p-button-rounded p-button-danger p-button-text p-button-raised">
                     
                       </p-button>
                    </td>
                  </tr>
                </ng-template>
              </p-table>
              <div class="card flex justify-content-center">
              
                <p-paginator [rows]="query.size" [first]="query.page * query.size" [totalRecords]="totalRecords"
                  (onPageChange)="onPageChange($event)" [alwaysShow]="false" [pageLinkSize]="4"
                  [showCurrentPageReport]="true">
                </p-paginator>
  
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  